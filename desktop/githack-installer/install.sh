#!/bin/bash
set -e

echo "Please enter githack login:"
read userlogin
echo "Please enter githack password:"
read -s userpassword
echo user=$userlogin>/etc/githack.conf
echo password=$userpassword>>/etc/githack.conf

echo
echo "Installing Githack..."

echo "Copy files"
cp ./githack /usr/bin/githack
cp ./githack-init /usr/bin/githack-init


echo
echo "Creating libraries for Vim"

opersys=$(uname -s)
opersys=${opersys:0:5}
if [ opersys != "Linux" ]; then
    echo "Only linux support for vim plugin - Time will not be taken into account."

    echo vimsupport=0>>/etc/githack.conf
else
  echo Building library
  gcc -w -shared -o libvimlib.so -fPIC main.c -lrt

  cp ./libvimlib.so /usr/lib/libvimlib.so
  cat vimrc >> ~/.vimrc

  echo vimsupport=1>>/etc/githack.conf
fi

echo
echo -e "\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m.\x1b[0m\x1b[37m\'\x1b[0m:\x1b[37m;\x1b[0m\x1b[37m:\x1b[0m\x1b[34m;\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m;\x1b[0m\x1b[37m;\x1b[0m\x1b[37m,\x1b[0m\x1b[37m;\x1b[0m\x1b[37m\'\x1b[0m\x1b[37m.\x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m \x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\n\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m.\x1b[0m\x1b[37m.\x1b[0m\x1b[37m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m;\x1b[0m\x1b[37m,\x1b[0m\x1b[37m.\x1b[0m\x1b[37m.\x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\n\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m.\x1b[0m\x1b[37m\'\x1b[0m\x1b[34m\'\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m;\x1b[0m\x1b[34md\x1b[0m\x1b[34mO\x1b[0m\x1b[37mK\x1b[0m\x1b[37mK\x1b[0m\x1b[36m0\x1b[0m\x1b[34mk\x1b[0m\x1b[34mx\x1b[0m\x1b[34mc\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m\'\x1b[0m\x1b[37m.\x1b[0m\x1b[37m.\x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\n\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m;\x1b[0m\x1b[34m;\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34mc\x1b[0m\x1b[34md\x1b[0m\x1b[34mx\x1b[0m\x1b[34mx\x1b[0m\x1b[34m:\x1b[0m\x1b[34ml\x1b[0m\x1b[34mk\x1b[0m\x1b[36m0\x1b[0m\x1b[37mK\x1b[0m\x1b[34mO\x1b[0m\x1b[37mK\x1b[0m\x1b[34mO\x1b[0m\x1b[34mx\x1b[0m\x1b[34m;\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m;\x1b[0m\x1b[37m;\x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\n\x1b[37m.\x1b[0m\x1b[37m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34ml\x1b[0m\x1b[34mc\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m;\x1b[0m\x1b[34mo\x1b[0m\x1b[34ml\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[37m,\x1b[0m\x1b[37m.\x1b[0m\n\x1b[37m;\x1b[0m\x1b[34m;\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34mo\x1b[0m\x1b[34m;\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m;\x1b[0m\x1b[34ml\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[37m;\x1b[0m\n\x1b[37m;\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m;\x1b[0m\x1b[34md\x1b[0m\x1b[34m:\x1b[0m\x1b[34mc\x1b[0m\x1b[34mc\x1b[0m\x1b[34mc\x1b[0m\x1b[34m:\x1b[0m\x1b[34m;\x1b[0m\x1b[34m;\x1b[0m\x1b[34m:\x1b[0m\x1b[34mc\x1b[0m\x1b[34mc\x1b[0m\x1b[34mc\x1b[0m\x1b[34mc\x1b[0m\x1b[34md\x1b[0m\x1b[34m:\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[37m,\x1b[0m\n\x1b[34m.\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34mo\x1b[0m\x1b[34ml\x1b[0m\x1b[36mO\x1b[0m\x1b[36mO\x1b[0m\x1b[37mX\x1b[0m\x1b[37mX\x1b[0m\x1b[34mO\x1b[0m\x1b[34ml\x1b[0m\x1b[34ml\x1b[0m\x1b[34mO\x1b[0m\x1b[37mX\x1b[0m\x1b[37mX\x1b[0m\x1b[36mO\x1b[0m\x1b[36mO\x1b[0m\x1b[34ml\x1b[0m\x1b[34md\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\n\x1b[37m;\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34ml\x1b[0m\x1b[34ml\x1b[0m\x1b[34mo\x1b[0m\x1b[36mO\x1b[0m\x1b[37mX\x1b[0m\x1b[37mK\x1b[0m\x1b[34mx\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34md\x1b[0m\x1b[37mK\x1b[0m\x1b[37mX\x1b[0m\x1b[36mO\x1b[0m\x1b[34mo\x1b[0m\x1b[34ml\x1b[0m\x1b[34ml\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[37m,\x1b[0m\n\x1b[37m,\x1b[0m\x1b[34m\'\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34ml\x1b[0m\x1b[34mc\x1b[0m\x1b[34m,\x1b[0m\x1b[34m;\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m;\x1b[0m\x1b[34m,\x1b[0m\x1b[34mc\x1b[0m\x1b[34ml\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m\'\x1b[0m\x1b[37m,\x1b[0m\n\x1b[37m \x1b[0m\x1b[37m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34mo\x1b[0m\x1b[34m;\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m;\x1b[0m\x1b[34mo\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m;\x1b[0m\x1b[37m,\x1b[0m\x1b[37m \x1b[0m\n\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m;\x1b[0m\x1b[34m,\x1b[0m\x1b[34m\'\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m;\x1b[0m\x1b[34mo\x1b[0m\x1b[34m:\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m:\x1b[0m\x1b[34mo\x1b[0m\x1b[34m;\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m;\x1b[0m\x1b[37m,\x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\n \x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m.\x1b[0m\x1b[37m\'\x1b[0m\x1b[34m\'\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m:\x1b[0m\x1b[34mc\x1b[0m\x1b[34m:\x1b[0m\x1b[34mc\x1b[0m\x1b[34mc\x1b[0m\x1b[34mc\x1b[0m\x1b[34mc\x1b[0m\x1b[34m:\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[37m,\x1b[0m\x1b[37m.\x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\n\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m.\x1b[0m\x1b[37m\'\x1b[0m\x1b[34m,\x1b[0m\x1b[34m\'\x1b[0m\x1b[34m\'\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m\'\x1b[0m\x1b[34m\'\x1b[0m\x1b[34m\'\x1b[0m\x1b[37m\'\x1b[0m\x1b[37m.\x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\n\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m.\x1b[0m\x1b[37m\'\x1b[0m;\x1b[37m\'\x1b[0m\x1b[37m;\x1b[0m\x1b[37m\'\x1b[0m\x1b[34m,\x1b[0m\x1b[34m,\x1b[0m\x1b[34m\'\x1b[0m\x1b[37m;\x1b[0m\x1b[37m\'\x1b[0m\x1b[37m;\x1b[0m\x1b[37m\'\x1b[0m\x1b[37m.\x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\x1b[37m \x1b[0m\n"
echo You have unlocked your first badge - The Noob! Now get coding to unlock the rest!

echo To start, go to one of your projects and run \'githack-init\' - after this, you\'re good to go!
